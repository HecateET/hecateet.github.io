---
title: leetcode-495.æè«æ”»å‡»ï¼šã€Œæ•°ç»„éå†ã€&ã€Œå»é‡ã€
author: é˜¿æº Hecate
date: '2022-01-18'
---
## å‰è¨€

è‡ª2022å¹´01æœˆ17æ—¥èµ·ï¼Œå¼€å§‹äº†é˜¿æºçš„èœé¸Ÿç®—æ³•æˆé•¿ä¹‹è·¯ï¼Œæ„Ÿè°¢å†´ç¾½å¤§ä½¬åŠç¾¤å†…å°ä¼™ä¼´å‘èµ·çš„ç®—æ³•åˆ·é¢˜æ‰“å¡æ´»åŠ¨ï¼Œå¿™ç¢Œä¸€å‘¨ç»ˆäºå¼€å§‹äº†ã€‚ 

## ä¸€ã€é¢˜ç›®
495. æè«æ”»å‡»

é¢˜ç›®è¯¦æƒ…æŸ¥çœ‹ï¼š
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/teemo-attacking



## äºŒã€åˆ†æè§£é¢˜æ€è·¯

### 2.1 æ¸…å¥‡çš„è„‘å›è·¯ï¼ˆä¹‹é”™è¯¯ğŸ™…æ¡ˆä¾‹ï¼‰

ç¬¬ä¸€éè¯»å®Œé¢˜ç›®ï¼š

1ã€ç§’æ•°æ˜¯é€ä¸€é€’å¢çš„

2ã€å¯¹åº”timeSeriesæ•°ç»„è®°å½•å¤šå°‘ç§’å‘èµ·è¿›æ”»

3ã€duÃ§ration æ˜¯è¿›æ”»å¯¹åº”ä¸­æ¯’çš„æŒç»­æ—¶é—´

ç¬¬ä¸€ç§æƒ…å†µï¼š
```
durationæ¯’ç´ æŒç»­çš„æ—¶é—´ä½œç”¨åœ¨å¯¹åº”çš„è¿›æ”»æ—¶é—´ï¼Œé€ä¸€å¾€åæ¨ç®— å¦‚[1,3],æ¯’æ¶²æŒç»­2ç§’.

ç§’æ•°æ—¶é—´çº¿ï¼š1, 2, 3,4,5,6,7  

1ç§’æ—¶æ”»å‡»ï¼ŒæŒç»­æ—¶é—´ã€Œ1,2ã€
3ç§’æ”»å‡»ï¼ŒæŒç»­æ—¶é—´ã€Œ3,4ã€,å°†åŒºé—´åˆå¹¶[1ï¼Œ2ï¼Œ3ï¼Œ4]ï¼Œå¯¹åº”ä¸­æ¯’æ€»ç§’æ•°å°±æ˜¯ 4
```

ç¬¬äºŒç§æƒ…å†µï¼š
```
é‡åˆ°æ¯’è¿˜æ²¡æ¶ˆè€—å®Œåˆè¿›æ”»çš„æ—¶å€™ï¼Œå¯¹åº”ä¸­æ¯’å½±å“çš„æ—¶é—´ä¼šå—åˆ°å½±å“ï¼Œå¦‚[2,4,5,8],æ¯’æ¶²æŒç»­3ç§’,ç§’æ•°æ—¶é—´çº¿ï¼š1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œ7ï¼Œ8ï¼Œ9ï¼Œ10ï¼Œ11ã€‚
åŸæ¯ç§’æ•°èŠ‚ç‚¹çš„æ”»å‡»æ¯’æ¶²æŒç»­æ—¶é—´æ®µåº”è¯¥æ˜¯ï¼š
å¯¹åº”2ç§’ï¼šã€Œ2ï¼Œ3ï¼Œ4ã€ï¼Œ4ç§’ï¼šã€Œ4ï¼Œ5ï¼Œ6ã€5ç§’ï¼šã€Œ5ï¼Œ6ï¼Œ7ã€ï¼Œ8ç§’ï¼šã€Œ8ï¼Œ9ï¼Œ10ã€
å°†å…¶æ’æˆä¸€åˆ—æ•°ç»„[2,3,4,4,5,6,5,6,7,8,9,10],åªéœ€è¦å°†æ•°ç»„å»é‡å[2,3,4,5,6,7,8,9,10]å¯¹åº”æ•°ç»„çš„é•¿åº¦å°±æ˜¯å¯¹åº”çš„ä¸­æ¯’çŠ¶æ€æ€»ç§’æ•°9
```
ä»ä¸Šé¢åˆ†æåï¼Œæ€è·¯å°±æ˜¯ï¼š

- éå†è¿›æ”»æ—¶é—´çš„æ•°ç»„ï¼Œå¾—åˆ°å¯¹åº”ç§’æ•°çš„æŒç»­æ—¶é—´æ•°ç»„

- å°†æ‰€æœ‰è¿›æ”»æ—¶åˆ»çš„ä¸­æ¯’äº‹ä»¶æ•°ç»„åˆå¹¶å»é‡

- å»é‡åçš„é•¿åº¦å°±æ˜¯å¯¹åº”å‡ æ¬¡è¿›æ”»åçš„æ€»ä¸­æ¯’æ—¶é—´

- æ—¢ç„¶é¢˜ç›®æç¤ºäº†3ç§æƒ…å†µï¼Œ éœ€è¦æ³¨æ„è¾¹ç•Œçš„æµ‹è¯•ç”¨ä¾‹æƒ…å†µ


é˜¿å·´å·´å·´ï¼Œå†™äº†é‚£å¤šï¼Œæˆ‘è‡ªå·±çš„å¥½åƒæ€è·¯æ¸…æ¥šäº†è®¸å¤šï¼Œæ¥ä¸‹æ¥å°è¯•å†™ä»£ç ï¼Œæœ€ç»ˆè¿è¡Œä»£ç æŸ¥çœ‹ï¼ˆ3.1 é”™è¯¯ä»£ç ğŸ™…ï¼‰ï¼Œå‘ç°ä¸å¯è¡Œã€‚


### 2.2 è¿›ä¸€æ­¥åˆ†æï¼ˆæ­£ç¡®é¢˜è§£ğŸ™†ï¼‰

ä¸Šä¸€æ­¥åˆ†æï¼Œéƒ¨åˆ†æ˜¯æ­£ç¡®çš„ï¼Œåªæ˜¯ä½¿ç”¨çš„æ‰§è¡Œç®—æ³•é€»è¾‘ä¸å¤ªå¯è¡Œï¼Œ æ¥ä¸‹æ¥ç»§ç»­åˆ†æï¼š

- timeSeries [t+ duration-1]  æ—¶é—´æ˜¯ä¸­æ¯’çš„ 

- timeSeries[i]-timerSeries[i-1] >= duration æ—¶ï¼Œ è¯´æ˜ä¸Šä¸€æ¬¡æ”»å‡»åˆ°ä¸‹ä¸€æ”»å‡»åˆ°ä¸­æ¯’æ—¶é—´å·²ç»“æŸï¼Œä¸­æ¯’æ—¶é—´ä¸º duration 

- timeSeries[i]-timerSeries[i-1]< duration æ—¶ï¼Œåˆ™ä¸Šä¸€æ¬¡æ”»å‡»çš„ä¸­æ¯’æ—¶é—´è¿˜æ²¡ç»“æŸï¼Œè¯´ä¸€ï¼Œä¸Šæ¬¡ä¸­æ¯’çš„æ—¶é—´åˆ™æ˜¯ï¼š timeSeries[i]-timeSeries[i-1]
- å°†æ¯æ¬¡æ”»å‡»åï¼Œçš„ä¸­æ¯’æ—¶é—´ç´¯åŠ å°±æ˜¯ æ€»çš„æŒç»­ä¸­æ¯’æ—¶é—´

### 2.3 æ¢ä¸ªè§’åº¦çœ‹ 2.1

åœ¨2.1 ä¸­è¯»é¢˜ååˆ†è§£çš„æ–¹æ³•ï¼Œä¹‹åç›´æ¥ä½¿ç”¨æ•°ç»„å»å­˜å‚¨åˆä»äºŒç»´æ•°ç»„åœ¨è½¬ä¸å¤ªèªæ˜çš„æ ·å­ã€‚ ä¸è¿‡2.1ä¸­æ€è·¯æ¢ä¸ªè§’åº¦æ¢ä¸ªç®—æ³•è¿˜æ˜¯å¯è¡Œçš„ï¼š

- è®¡ç®—æ€»çš„æœªå»é‡çš„ä¸­æ¯’æ—¶é—´ï¼š timeSerie.length * duration
- åˆ¤æ–­æ”»å‡»æ—¶é—´ï¼Œ æ€»ä¸­æ¯’äº‹ä»¶å‡å»é‡å¤çš„æ—¶é—´
- é‡å¤çš„æ—¶é—´è®¡ç®—ï¼š timeSerie[i]-timeSerie[i-1]< durationæ—¶ï¼ˆéœ€è¦å»é‡ï¼‰ï¼Œå¤šå‡ºçš„æ—¶é—´ï¼šduration-(timeSeries[i]-timeSeries[i-1]ï¼‰

## ä¸‰ã€ä»£ç &å¤æ‚åº¦åˆ†æ

### 3.1 é”™è¯¯ä»£ç ğŸ™…
```
 var findPoisonedDuration = function(timeSeries, duration) {
     let arr = []
     //éå†æ•°ç»„
    timeSeries.forEach(item=>{
        let arr1 = []
        // è®°å½•æ¯ä¸€æ¬¡æ”»å‡»çš„ä¸­æ¯’æ—¶é—´
        for(let i=0;i<duration;i++){
            arr1.push(item+i)
        }
        arr.push(arr1)
    })
    arr = arr.flat() //äºŒç»´æ•°ç»„è½¬1ç»´æ•°ç»„
    //æ•°ç»„å»é‡
    arr = arr.filter((item,index,arr)=>{
        return arr.indexOf(item,0) === index;
    })
    return arr.length
};
```
**å¤æ‚åº¦åˆ†æï¼š**
- æ—¶é—´å¤æ‚åº¦: O(n^2)+O(n)+O(n),æ‰€ä»¥æ˜¯ O(n^2)
- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œ æ‰€ä»¥ç©ºé—´å¤æ‚åº¦æ˜¯O(n), å…¶ä¸­næ˜¯ä¸Šé¢arrçš„é•¿åº¦
åˆ†æï¼š
- éšç€nå˜å¤§ï¼Œ æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ä¼šè¶Šæ¥è¶Šå¤§ï¼Œæ‰€ä»¥å¯¼è‡´è¿è¡Œè¶…æ—¶é—´

### 3.2 æ­£ç¡®ä»£ç âœ…

```
var findPoisonedDuration = function(timeSeries, duration) {
    let len = timeSeries.length, timeCount = 0;
    for(let i=1;i<len;++i){
        let oneCount = timeSeries[i] - timeSeries[i-1];
        if(oneCount>=duration){
            timeCount += duration;
        }else{
            timeCount += oneCount;
        }
    }
    timeCount+=duration
    return timeCount;
};
```
**å¤æ‚åº¦åˆ†æï¼š**
- æ—¶é—´å¤æ‚åº¦: O(n)
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

### 3.3 æ­£ç¡®ä»£ç  âœ…
```
var findPoisonedDuration = function(timeSeries, duration) {
    let timeCount = timeSeries.length * duration
    for(let i=1;i<timeSeries.length;i++){
        if(timeSeries[i]-timeSeries[i-1]<duration){
            timeCount -= duration-timeSeries[i]+timeSeries[i-1]
        }
    }
    return timeCount;
};
```
**å¤æ‚åº¦åˆ†æï¼š**
- æ—¶é—´å¤æ‚åº¦: O(n)
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## å››ã€æ€»ç»“
æœ¬é¢˜ç›®ï¼Œè™½ç„¶ç¬¬ä¸€ä¸ªæ€è·¯ä¸å¤ªå¯è¡Œï¼Œè¿˜è¶…æ—¶äº†ï¼Œå› ä¸ºå…¶ä¸­éšå«äº†å¦å¤–ä¸¤ä¸ªç®—æ³•å¯¼è‡´æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦éƒ½ä¸ç†æƒ³ï¼Œå½“æ•°ç›®å¤ªå¤§æ—¶ï¼Œä¼šå¯¼è‡´è¿è¡Œè¶…æ—¶ã€‚æ˜¯ä¸€ä¸ªå…¸å‹çš„é”™è¯¯æ¡ˆä¾‹ã€‚

æ·±æ·±æ„Ÿæ…¨ä¸‹ç¬”è¿˜éœ€è¦è€ƒè™‘æ€è·¯å¯¹ä¸å¯¹å•Šï¼Œ åˆ·ç®—æ³•çš„ç¬¬äºŒå¤©ï¼Œç®€å•é¢˜è®©æˆ‘æ„Ÿè§‰è‡ªå·±è¢«æ‘åœ¨åœ°ä¸Šæ‘©æ“¦ï¼

### 4.1 çŸ¥è¯†ç‚¹
é¢˜ç›®åŸæœ¬ç®€å•ï¼Œ è¢«æˆ‘ä¸€ä¸ªæ¸…å¥‡çš„è„‘å›è·¯å¸¦åã€‚ä¸è¿‡åˆ†æå®Œæ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ä¹‹åï¼Œæœ€ç»ˆè¿˜æ˜¯è¦æ€»ç»“ä¸‹ä¸Šé¢ä¸€è·¯æ‘¸çˆ¬æ»šæ‰“ä¸­æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹ï¼š

 1. äºŒç»´æ•°ç»„è½¬æ¢ä¸€ç»´æ•°ç»„ï¼›
 2. ä¸€ç»´æ•°ç»„å¦‚ä½•å»é‡
 3. JSä¸­çš„æ•°ç»„æ–¹æ³•

#### 1âƒ£ï¸ äºŒç»´æ•°ç»„è½¬ä¸€ç»´æ•°ç»„
1ã€ä½¿ç”¨ `es5`çš„reduceæ–¹æ³• `arr.reduce(callback[,initialValue])`
```
var arr1 = [[0,1,3],[2,3],[4,5]]
var arr2 = 

```

2ã€åˆ©ç”¨`es6`çš„mapå‡½æ•° å’Œé€’å½’
```
var arr1 =[[0,1,3],[2,3],[4,5]]
function flatten(arr){
    return [].concat(...arr.map(x=>
        Array.isArray(x) ? flatten(x):x
    ))
}
var arr2 = flatten(arr1)
```

3ã€ åˆ©ç”¨`apply`å®ç°

```
var arr1 =[[0,1,3],[2,3],[4,5]]
var arr2 = [].concat.apply([],arr1);
```

4ã€ å°†æ•°ç»„å˜æˆå­—ç¬¦ä¸²ï¼Œåˆ©ç”¨`str.split(',')`å®ç°ï¼ˆç¼ºç‚¹ï¼šæ•°ç»„å…ƒç´ éƒ½å˜æˆå­—ç¬¦ä¸²ï¼‰

5ã€ä½¿ç”¨ES6 `Array.prototype.flat()`(ç¼ºç‚¹ï¼šæœ‰å…¼å®¹é—®é¢˜)
flat() æ–¹æ³•ä¼šç§»é™¤ç©ºé¡¹ï¼Œä½†`undefined`ã€`null`ä¼šä¿ç•™

å…·ä½“å†…å®¹å®ç°æœ¬ç¯‡ä¸å±•å¼€è®²è§£ï¼Œ åç»­å¦ä½œç¯‡å¹…è®°å½•ã€‚

å¯å‚è€ƒï¼š[jsäºŒç»´è½¬ä¸€ç»´æ•°ç»„](https://www.cnblogs.com/wang-xx/p/11268276.html)

#### 2âƒ£ï¸ æ•°ç»„å»é‡å¤
1ã€åˆ©ç”¨ES6 Setå»é‡

2ã€ä¸¤æ¬¡forå¾ªç¯ï¼Œ spliceå»é‡ï¼ˆES5å¸¸ç”¨ï¼‰

3ã€åˆ©ç”¨indexOfå»é‡

4ã€åˆ©ç”¨sort()

5ã€åˆ©ç”¨includes

6ã€åˆ©ç”¨hasOwnProperty

7ã€åˆ©ç”¨filter

8ã€åˆ©ç”¨é€’å½’å»é‡

9ã€åˆ©ç”¨Mapæ•°æ®ç»“æ„å»é‡

10ã€åˆ©ç”¨reduce+ includes

11ã€[...new Set(arr)]

å…·ä½“å†…å®¹å®ç°æœ¬ç¯‡ä¸å±•å¼€è®²è§£ï¼Œåç»­å¦ä½œç¯‡å¹…è®°å½•ã€‚

å¯å‚è€ƒï¼š[jsä¸­çš„12ç§å»é‡æ–¹æ³•](https://segmentfault.com/a/1190000016418021)

#### 3âƒ£ï¸ JSä¸­éå†çš„æ–¹æ³•
1ã€for()
2ã€while å’Œ do...whileè¯­å¥
3ã€forEach
4ã€for-in
5ã€for-of

è¯¦ç»†ç”¨æ³•æŸ¥çœ‹ï¼š[MDNï¼šloopå¾ªç¯å’Œè¿­ä»£](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration)

### 4.2 æœ€ä¼˜è§£
æ ¹æ®ç¬¬äºŒéƒ¨åˆ†çš„é¢˜è§£ï¼Œ æ­£ç¡®çš„è§£æ³•å¯ä»¥æœ‰ä¸¤ç§æ€è·¯ï¼Œ ä¸€ä¸ªæ˜¯åŒºåˆ†ä¸¤ç§ä¸åŒçš„ä¸­æ¯’æŒç»­æ—¶é—´ï¼Œå†å°†å…¶ç´¯åŠ ã€‚ç¬¬äºŒä¸ªæ˜¯è®¡ç®—å‡ºæ€»çš„æ­£å¸¸ä¸­æ¯’æ—¶é—´åï¼Œå†å‡å»é‡å¤çš„æ—¶é—´ã€‚ 